## DOM

- DOM은 문서의 구조화된 표현을 제공하며, **자바스크립트**와 같은 프로그래밍 언어가 문서에 접근해서 구조, 스타일, 내용 등을 변경할 수 있도록 API를 제공하는 역할을 합니다.
    - HTML 문서는 렌더링 엔진에 의해서, 파싱되고, 브라우저에서 실행될 수 있게끔 DOM Tree가 만들어집니다.
    - 이를 바탕으로 나중에 **CSSOM**과 함께 렌더 트리를 만들면서 렌더링이 진행됩니다.

---

## Virtual DOM(가상 돔)
- 가상 DOM은 실제 DOM과 같은 내용을 담고 있는 복사본입니다. 이는 자바스크립트 객체형태로 메모리 상에 저장되어 있습니다.
- 리액트는 항상 이 **2개의 가상 DOM**을 가지고 있습니다. 
     - 첫 번째 가상 DOM은 변경 이전의 내용을, 두 번째 가상 DOM은 변경 이후의 내용을 담습니다. 

- 변경된 내용이 화면에 새롭게 그려지기 전에 (실제 DOM이 변경되기 전), 리액트는 2개의 가상 DOM을 비교해서 정확히 어떤 엘리먼트가 바뀌었는지 빠르게 파악하는 **Diffing 과정**을 거칩니다.

- 그렇게 변경된 부분을 파악하면, 리액트는 **Batch Update**를 통해 변경된 모든 엘리먼트의 정보를 받아옵니다.
    - 여러 부분이 변경되는 경우에는, 변경된 내용을 화면에 여러 번 그리는 게 아니라, 실제 DOM에 딱 한번만에 적용시킵니다.
    - 이 과정을 **Reconsiliation(재조정) 과정**이라 합니다.

- 가상 DOM은 실제 DOM을 조작함에 있어 **가장 비용이 많이드는 화면에 그려주는 작업의 시간**을 줄여줍니다.

---

## 정리

- Virtual DOM은 실제 DOM과 같은 내용을 담는 복사본입니다.
- 이는 자바스크립트 객체로 메모리 상에 저장되어 있습니다.
- 변경 사항이 생기면 **Diffing 과정**을 거쳐 2개의 Virtual DOM의 비교를 진행합니다. 
    - 이를 통해 변경된 엘리먼트를 확인합니다.

- 실제 DOM에는 변경 사항이 **Batch Update**로 한 번에 효율적으로 적용되기 때문에, 더 반응성있고 빠른 웹을 구현할 수 있도록 합니다. 이것이 **Reconsiliation 과정**입니다.